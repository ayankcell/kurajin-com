<template>
  <header class="p-4 text-gray-100 relative lg:static" :class="background ?? 'bg-gray-800'">
    <div class="container flex justify-between h-16 mx-auto">
      <NuxtLink
        to="/"
        aria-label="Back to homepage"
        class="flex items-center p-2"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          xml:space="preserve"
          width="147"
          height="43"
          viewBox="0 0 38.894 11.377"
        >
          <path
            d="m7.538 1.456-.228.021c-1.024.095-1.815.629-2.244 1.516-.436.898-.366 1.88.192 2.718.097.146.18.265.187.265.006 0-.023-.132-.063-.294-.089-.353-.107-1.092-.036-1.435.246-1.174.944-2.123 1.958-2.666l.234-.125zm.854.377a2.645 2.645 0 0 0-1.422.42c-.607.395-.992.936-1.18 1.653-.057.221-.083 1.044-.034 1.093.013.013.08-.139.148-.337.31-.902.987-1.649 1.894-2.087.526-.254.828-.327 1.47-.356l.551-.025-.266-.119a2.795 2.795 0 0 0-1.16-.242zm-3.169.143a.235.235 0 0 0-.053.03c-.847.537-1.313 1.366-1.313 2.336 0 1.062.562 1.965 1.514 2.434.168.083.31.15.318.15.007 0-.079-.099-.192-.221-.458-.495-.759-1.094-.91-1.812-.078-.372-.06-1.158.036-1.551.106-.434.27-.824.482-1.145.105-.161.14-.22.122-.22h-.004zm22.463.314a.735.735 0 0 0-.52.203.64.64 0 0 0-.214.486c0 .188.071.35.213.485a.742.742 0 0 0 .52.199c.2 0 .372-.066.514-.2a.641.641 0 0 0 .216-.484.635.635 0 0 0-.216-.486.718.718 0 0 0-.513-.203zm1.77 0a.73.73 0 0 0-.517.203.635.635 0 0 0-.216.486c0 .188.072.35.216.485a.737.737 0 0 0 .517.199.73.73 0 0 0 .517-.2.641.641 0 0 0 .216-.484.635.635 0 0 0-.216-.486.723.723 0 0 0-.517-.203zm-17.22.663V7.9h.896V6.426l.549-.647L15.157 7.9h1.077l-1.93-2.727 1.913-2.22h-1.094l-1.93 2.273h-.061V2.953h-.896zm-3.66.288a2.684 2.684 0 0 0-1.171.29c-.309.15-.411.225-.705.521-.276.278-.375.412-.503.672-.089.178-.16.333-.16.343.012-.001.11-.088.229-.2.45-.429 1.094-.749 1.79-.89.468-.095 1.262-.059 1.724.078.392.116.726.268 1.006.456.107.072.182.11.168.085a2.77 2.77 0 0 0-1.826-1.302 2.808 2.808 0 0 0-.552-.053zm-4.981.59-.076.148c-.365.71-.501 2.035-.277 2.701.35 1.046 1.36 1.901 2.547 2.16.205.044.213.016.026-.091-.329-.189-1.135-1.01-1.063-1.083.01-.01.094.015.186.055.355.156.92.228 1.342.17l.179-.025-.316-.102c-.797-.259-1.437-.75-1.919-1.473-.405-.608-.584-1.174-.61-1.928l-.02-.531zm18.915.305a.925.925 0 0 0-.916.672h-.038v-.619h-.848V7.9h.875V5.72a.76.76 0 0 1 .406-.7.884.884 0 0 1 .43-.105c.073 0 .15.006.23.017.08.01.138.021.175.034V4.16a1.117 1.117 0 0 0-.152-.016 2.006 2.006 0 0 0-.162-.008zm2.298.005c-.24.005-.46.044-.662.116-.214.076-.395.19-.543.343-.148.152-.255.34-.32.566l.817.115a.694.694 0 0 1 .251-.33c.126-.094.296-.14.51-.14.203 0 .359.049.467.149.108.1.161.24.161.423v.015c0 .083-.03.145-.094.186a.788.788 0 0 1-.295.086 20.57 20.57 0 0 1-.528.06c-.18.02-.356.051-.525.095a1.596 1.596 0 0 0-.452.186.897.897 0 0 0-.316.329c-.077.137-.116.31-.116.519 0 .243.054.448.162.613.11.166.258.292.445.378.188.083.4.125.635.125.193 0 .361-.027.505-.08a1.066 1.066 0 0 0 .584-.505h.03v.51h.84V5.417c0-.247-.045-.452-.135-.616a1.045 1.045 0 0 0-.353-.39 1.502 1.502 0 0 0-.486-.207 2.314 2.314 0 0 0-.534-.063h-.048zm7.97 0c-.277 0-.51.061-.698.184a1.06 1.06 0 0 0-.409.495h-.043v-.63h-.836V7.9h.875V5.726a.97.97 0 0 1 .099-.457.704.704 0 0 1 .278-.287.813.813 0 0 1 .408-.102c.225 0 .402.07.529.21.129.14.193.335.193.583V7.9h.875V5.538a1.624 1.624 0 0 0-.158-.756 1.106 1.106 0 0 0-.444-.476 1.317 1.317 0 0 0-.67-.165zM16.57 4.19v2.363c0 .296.052.55.157.759.104.207.25.366.435.476.187.108.401.161.645.161.278 0 .513-.066.703-.198.192-.132.33-.301.413-.51h.039v.66h.848V4.19h-.875v2.15c0 .188-.04.345-.119.47a.763.763 0 0 1-.297.281.8.8 0 0 1-.374.094.66.66 0 0 1-.507-.208c-.13-.138-.194-.325-.194-.56V4.189h-.874zm10.676 0v3.912c0 .156-.037.274-.11.355-.072.082-.191.123-.359.123-.02 0-.041 0-.06-.002a.983.983 0 0 1-.065-.003v.713l.089.002c.027.002.057.002.09.002.273 0 .506-.042.698-.127a.935.935 0 0 0 .44-.39c.1-.173.151-.394.151-.661V4.189h-.874zm1.773 0V7.9h.874V4.19h-.874zm-20.75.385c-.061 0-.126.002-.193.005-.51.021-.89.136-1.303.392-.393.245-.41.284-.08.196.425-.114 1.187-.104 1.663.021.709.187 1.303.536 1.808 1.063.284.295.691.882.707 1.017.003.032.013-.017.021-.11.023-.257-.092-.707-.283-1.104-.145-.302-.224-.41-.5-.686-.266-.266-.394-.361-.678-.503-.414-.207-.728-.288-1.161-.29zm-.996.805c-.07 0-.14.004-.208.01l-.326.029.248.07c.365.103.91.386 1.224.636a3.72 3.72 0 0 1 1.415 2.884l.003.463.107-.211c.167-.33.254-.73.254-1.173 0-.76-.253-1.376-.778-1.9a3.434 3.434 0 0 0-.521-.431 2.856 2.856 0 0 0-1.418-.376v-.001zm-.38.293c-.015 0 .066.107.179.238.382.44.599.822.764 1.345.317 1.008.173 2.217-.365 3.062l-.156.25c-.078.129.298-.157.585-.445.356-.357.58-.74.707-1.218.09-.332.09-.997.003-1.331a2.87 2.87 0 0 0-.907-1.43c-.177-.146-.737-.471-.81-.471zm18.599.46v.437a.714.714 0 0 1-.106.38.768.768 0 0 1-.298.28.95.95 0 0 1-.456.103.768.768 0 0 1-.45-.123.416.416 0 0 1-.176-.364c0-.113.03-.205.09-.276a.582.582 0 0 1 .244-.169c.103-.04.22-.07.35-.087l.205-.03a6.61 6.61 0 0 0 .24-.038c.08-.014.153-.031.217-.05a.41.41 0 0 0 .14-.063z"
            style="fill: #fff; stroke-width: 0.0380153"
          />
        </svg>
      </NuxtLink>

      <ul
        class="absolute left-0 mt-16 w-full p-4 space-y-3 bg-gray-500 lg:bg-transparent lg:static lg:w-auto lg:left-auto lg:bottom-auto lg:mt-0 lg:space-y-0 lg:bg-none lg:items-stretch lg:space-x-3 lg:flex"
        :class="isOpen ? '' : 'hidden'"
      >
        <li class="flex">
          <NuxtLink
            to="/"
            class="flex items-center px-4 -mb-1 border-b-2 border-transparent text-gray-50 border-blue-400 text-xl"
            >Home</NuxtLink
          >
        </li>
        <li class="flex">
          <NuxtLink
            to="/about"
            class="flex items-center px-4 -mb-1 border-b-2 border-transparent text-gray-50 border-blue-400 text-xl"
            >About</NuxtLink>
        </li>
      </ul>
      <button class="p-4 lg:hidden" @click="isOpen = !isOpen" id="btn-nav" aria-label="tombol menu">
        <svg
          v-show="!isOpen"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          class="w-6 h-6 text-gray-100"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"
          ></path>
        </svg>
        <svg
          v-show="isOpen"
          class="w-6 h-6 fill-gray-100"
          viewBox="0 0 16 16"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M12.78 4.28a.75.75 0 0 0-1.06-1.06L8 6.94 4.28 3.22a.75.75 0 0 0-1.06 1.06L6.94 8l-3.72 3.72a.75.75 0 1 0 1.06 1.06L8 9.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L9.06 8l3.72-3.72z"
          />
        </svg>
      </button>

    </div>
  </header>
</template>

<script setup>
const { isOpen } = useMenubar();
defineProps(['background'])
const route = useRouter();
watchEffect((route)=>{
  isOpen.value = false;
})
</script>
